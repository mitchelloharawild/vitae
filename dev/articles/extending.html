<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating vitae templates • vitae</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating vitae templates">
<meta property="og:description" content="vitae">
<meta property="og:image" content="https://pkg.mitchelloharawild.com/vitae/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="pkg.mitchelloharawild.com/vitae" src="https://track.mitchelloharawild.com/js/plausible.js"></script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vitae</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.5.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/vitae.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data.html">Data sources for vitae</a>
    </li>
    <li>
      <a href="../articles/extending.html">Creating vitae templates</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mitchelloharawild/vitae/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Creating vitae templates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mitchelloharawild/vitae/blob/HEAD/vignettes/extending.Rmd" class="external-link"><code>vignettes/extending.Rmd</code></a></small>
      <div class="hidden name"><code>extending.Rmd</code></div>

    </div>

    
    
<p>Résumé/CV templates are abundantly available in many varieties of
themes and layouts. The <code>vitae</code> package provides a few of the
more popular templates that are suitable for most resumes. The included
templates are far from comprehensive - your favourite template may not
be included, or perhaps you have created your own template. This
vignette explains how your LaTeX CV can be used within the package using
custom templates.</p>
<div class="section level2">
<h2 id="creating-a-vitae-template">Creating a vitae template<a class="anchor" aria-label="anchor" href="#creating-a-vitae-template"></a>
</h2>
<p>Extending <code>vitae</code> to support new templates involves a
similar process to creating new <code>rmarkdown</code> document
templates. An extended explanation for creating <code>rmarkdown</code>
templates can be found in the <a href="https://bookdown.org/yihui/rmarkdown/document-templates.html" class="external-link"><em>Document
Templates</em> chapter</a> in <a href="https://bookdown.org/yihui/rmarkdown/" class="external-link">“R Markdown: The Definitive
Guide”</a>.</p>
<p>Creating a template for vitae can be broken into three parts: -
Converting a CV into a Pandoc template - Adding LaTeX macros for
displaying CV entries - Using the template with
<code>rmarkdown</code></p>
<div class="section level3">
<h3 id="converting-a-cv-into-a-pandoc-template">Converting a CV into a Pandoc template<a class="anchor" aria-label="anchor" href="#converting-a-cv-into-a-pandoc-template"></a>
</h3>
<p>Most elements that are included in the YAML header of an
<code>rmarkdown</code> document are passed to your template via Pandoc
variables. Pandoc variables can be included in your template file by
surrounding the variable with <code>$</code>. These can be used to fill
in basic CV details such as your name, occupation, and social links.</p>
<p>For example, suppose your document contains this YAML header:</p>
<pre><code><span><span class="va">name</span><span class="op">:</span> <span class="st">"Mitchell O'Hara-Wild"</span></span>
<span><span class="va">position</span><span class="op">:</span> <span class="st">"vitae maintainer"</span></span>
<span><span class="va">output</span><span class="op">:</span> <span class="fu">vitae</span><span class="fu">::</span><span class="va"><a href="../reference/awesomecv.html">awesomecv</a></span></span></code></pre>
<p>The <code>$name$</code> variable in the template would be substituted
with <code>Mitchell O'Hara-Wild</code> and similarly,
<code>$position$</code> would become <code>vitae maintainer</code>. Many
templates won’t follow this same structure exactly (some may split the
name into first and last names), but most of the time there is a
reasonable place for these variables. It is recommended that a
consistent set of variables are used to make switching between templates
easy.</p>
<p>The current list of variables used in the <code>vitae</code>
templates are:</p>
<ul>
<li>name</li>
<li>position</li>
<li>address</li>
<li>date</li>
<li>profilepic</li>
<li>www</li>
<li>email</li>
<li>twitter</li>
<li>github</li>
<li>linkedin</li>
<li>aboutme</li>
<li>headcolor</li>
</ul>
<p>In the <a href="https://github.com/xdanaux/moderncv" class="external-link">moderncv
template</a>, the position of ‘vitae maintainer’ is specified using
<code>\position{vitae maintainer}</code>. Using Pandoc variables, this
would be replaced with <code>\position{$position$}</code>, which allows
the position to be defined in the <code>rmarkdown</code> document’s YAML
header.</p>
<p>However if a <code>position</code> has not been provided in the YAML
header, this would leave us with <code>\position{}</code> (which might
be okay for some templates, but is undesirable for most templates). To
resolve this, we can use Pandoc to conditionally include this section
with <code>$if(position)$\position{$position$}$endif$</code>.</p>
<p>The main content from an <code>rmarkdown</code> document is also
included using Pandoc variables. The results from the main section of
the document is stored in <code>$body$</code>. So in a typical LaTeX CV
template, where there is usually pre-filled details about experience and
employment, this can be completely replaced with <code>$body$</code>.
There are a few other common variables to place within the template,
which are typically placed in the same location as other templates.
These variables include:</p>
<ul>
<li>body</li>
<li>header-includes</li>
<li>fontfamily</li>
<li>fontfamilyoptions</li>
<li>fontsize</li>
<li>lang</li>
<li>papersize</li>
<li>classoption</li>
<li>linestretch</li>
<li>include-before</li>
<li>include-after</li>
<li>highlighting-macros</li>
</ul>
<p>Placement of these variables can be found by looking at other
template files provided in the package. The conversion of the moderncv
template into a Pandoc template for <code>vitae</code> can be found on
<a href="https://github.com/mitchelloharawild/vitae/blob/master/inst/rmarkdown/templates/moderncv/resources/moderncv.tex" class="external-link">GitHub</a>.</p>
</div>
<div class="section level3">
<h3 id="adding-template-specific-code-for-displaying-cv-entries">Adding template specific code for displaying CV entries<a class="anchor" aria-label="anchor" href="#adding-template-specific-code-for-displaying-cv-entries"></a>
</h3>
<p>The interface for producing entries in a CV varies greatly between
templates. To support these various formats, template specific R
functions are used to convert the <code>vitae</code> format of <em>what,
when, with, where, and why</em> to output suitable for each template.
These functions are specified using the <code>set_entry_formats()</code>
function, which accepts output from
<code>new_entry_formats()</code>.</p>
<p>The moderncv template provides many different layouts, of which I
have selected the two that best suit <code>brief_entries</code> and
<code>detailed_entries</code>.</p>
<div class="section level4">
<h4 id="brief_entries">brief_entries<a class="anchor" aria-label="anchor" href="#brief_entries"></a>
</h4>
<p>The moderncv template <code>\cvitem</code> command generates an
appropriate layout for brief entries. It expects inputs in this
format:</p>
<pre><code>\cvitem{Title}{Description}</code></pre>
<p>An appropriate function for creating these items could be:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">moderncv_cv_entries</span> <span class="op">&lt;-</span> <span class="fu">new_entry_formats</span><span class="op">(</span></span>
<span>  brief <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">what</span>, <span class="va">when</span>, <span class="va">with</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"\t\\cvitem{"</span>, <span class="va">when</span>, <span class="st">"}{"</span>, <span class="va">what</span>, <span class="st">". "</span>, <span class="va">with</span>, <span class="st">"}"</span>,</span>
<span>      collapse <span class="op">=</span> <span class="st">"\n"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  detailed <span class="op">=</span> <span class="va">...</span> <span class="co"># See below</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Note that <code>what</code>, <code>when</code> and <code>with</code>
may contain more than one entry. This function combines each
<code>\cvitem{}</code> into a single string by separating each entry
with a new line.</p>
</div>
<div class="section level4">
<h4 id="detailed_entries">detailed_entries<a class="anchor" aria-label="anchor" href="#detailed_entries"></a>
</h4>
<p>For detailed CV entries, the moderncv <code>\cventry</code> command
is appropriate. It expects inputs in this format:</p>
<pre><code>\cventry{Year}{Degree}{Institution}{City}{Grade}{Description}</code></pre>
<p>A function that can produce these entries is as follows:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">moderncv_cv_entries</span> <span class="op">&lt;-</span> <span class="fu">new_entry_formats</span><span class="op">(</span></span>
<span>  brief <span class="op">=</span> <span class="va">...</span>,</span>
<span>  detailed <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">what</span>, <span class="va">when</span>, <span class="va">with</span>, <span class="va">where</span>, <span class="va">why</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="co"># Combine why inputs into a bullet list</span></span>
<span>    <span class="va">why</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">why</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="st">"\\empty"</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"\\begin{itemize}%"</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"\\item "</span>, <span class="va">x</span>, <span class="st">"%"</span><span class="op">)</span>,</span>
<span>        <span class="st">"\\end{itemize}"</span></span>
<span>      <span class="op">)</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># Combine inputs into \cventry{} output</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"\t\\cventry{"</span>, <span class="va">when</span>, <span class="st">"}{"</span>, <span class="va">what</span>, <span class="st">"}{"</span>, <span class="va">with</span>, <span class="st">"}{"</span>, <span class="va">where</span>, <span class="st">"}{}{"</span>, <span class="va">why</span>, <span class="st">"}"</span><span class="op">)</span>,</span>
<span>      collapse <span class="op">=</span> <span class="st">"\n"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="using-the-template-with-rmarkdown">Using the template with rmarkdown<a class="anchor" aria-label="anchor" href="#using-the-template-with-rmarkdown"></a>
</h3>
<p>Once the Pandoc variables and LaTeX CV entry macros are set in the
template, it is ready for use with the <code>vitae</code> package. The
package provides the <code>cv_document</code> output format, which is
suitable for use with custom templates. To use the custom template, your
<code>rmarkdown</code> document’s YAML header would look like this:</p>
<pre><code><span><span class="va">output</span><span class="op">:</span></span>
<span>  <span class="fu">vitae</span><span class="fu">::</span><span class="va"><a href="../reference/cv_document.html">cv_document</a></span><span class="op">:</span></span>
<span>    <span class="va">template</span><span class="op">:</span> <span class="va">my_custom_template.tex</span></span></code></pre>
<p>You will also need to copy all of the LaTeX class (<code>.cls</code>)
and style (<code>.sty</code>) files provided with the template into the
same folder as your <code>rmarkdown</code> document. Once that is done,
your new template should be ready to use with the <code>vitae</code>
package.</p>
</div>
</div>
<div class="section level2">
<h2 id="contributing-to-the-vitae-package">Contributing to the vitae package<a class="anchor" aria-label="anchor" href="#contributing-to-the-vitae-package"></a>
</h2>
<p>If you’ve gone to the effort of successfully creating a new template
with the <code>vitae</code> package, you may be interested in making it
available for others to use. You can contribute to this package by
submitting a pull request that adds your template to the package.</p>
<p>Adding your template to the package can be done with:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_rmarkdown_template</span><span class="op">(</span></span>
<span>  template_name <span class="op">=</span> <span class="st">"Curriculum Vitae (My custom format)"</span>,</span>
<span>  template_dir <span class="op">=</span> <span class="st">"my_template"</span>,</span>
<span>  template_description <span class="op">=</span> <span class="st">"The custom vitae template made by me!"</span>,</span>
<span>  template_create_dir <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Then by navigating to the package’s
<code>inst/rmarkdown/templates/my_template</code> folder, you can add
your Pandoc template to the <code>resources</code> folder, and your
<code>.cls</code> and <code>.sty</code> files to the
<code>skeleton</code> folder.</p>
<p>Once that is done, we can create a new <code>rmarkdown</code> output
format that uses your template. These are added to the “R/formats.R”
file, and will usually follow the same structure as other templates. The
template argument to <code>cv_document</code> is a link to your Pandoc
template in the package (accessed using <code>system.file</code>), and
it is recommended that the supporting <code>.cls</code> and
<code>.sty</code> files are copied using
<code>copy_supporting_files</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' @rdname cv_formats</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">my_template</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">template</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"rmarkdown"</span>, <span class="st">"templates"</span>, <span class="st">"my_template"</span>,</span>
<span>                          <span class="st">"resources"</span>, <span class="st">"my_template.tex"</span>, package<span class="op">=</span><span class="st">"vitae"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu">set_entry_formats</span><span class="op">(</span><span class="va">moderncv_cv_entries</span><span class="op">)</span></span>
<span>  <span class="fu">copy_supporting_files</span><span class="op">(</span><span class="st">"my_template"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/cv_document.html">cv_document</a></span><span class="op">(</span><span class="va">...</span>, template <span class="op">=</span> <span class="va">template</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The automatically generated <code>skeleton.Rmd</code> document in the
<code>skeleton</code> folder should be modified to be a basic example of
using your template. Examples of this file can be found in other
templates, and this template file can act as a useful test for your
template!</p>
<p>All done! You should now be able to install your new version of the
package with <code>devtools::install()</code>, and test out your new
output format with:</p>
<pre><code><span><span class="va">output</span><span class="op">:</span></span>
<span>  <span class="fu">vitae</span><span class="fu">::</span><span class="va">my_template</span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="http://mitchelloharawild.com" class="external-link">Mitchell O’Hara-Wild</a>, <a href="http://robjhyndman.com" class="external-link">Rob Hyndman</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
